#CSS 框模型概述
**CSS 框模型 (Box Model) 規定了元素框處理元素內容、內邊距、邊框 和 外邊距 的方式。**
##CSS 框模型概述
![](/assets/ct_boxmodel.gif)
元素框的最內部分是實際的內容，直接包圍內容的是內邊距。內邊距呈現了元素的背景。內邊距的邊緣是邊框。邊框以外是外邊距，外邊距默認是透明的，因此不會遮擋其後的任何元素。

提示：背景應用於由內容和內邊距、邊框組成的區域。

內邊距、邊框和外邊距都是可選的，默認值是零。但是，許多元素將由用戶代理樣式表設置外邊距和內邊距。可以通過將元素的 margin 和 padding 設置為零來覆蓋這些瀏覽器樣式。這可以分別進行，也可以使用通用選擇器對所有元素進行設置：

```css
* {
  margin: 0;
  padding: 0;
}
```

在 CSS 中，width 和 height 指的是內容區域的寬度和高度。增加內邊距、邊框和外邊距不會影響內容區域的尺寸，但是會增加元素框的總尺寸。

假設框的每個邊上有 10 個像素的外邊距和 5 個像素的內邊距。如果希望這個元素框達到 100 個像素，就需要將內容的寬度設置為 70 像素，請看下圖：

![](/assets/ct_css_boxmodel_example.gif)

```css
#box {
  width: 70px;
  margin: 10px;
  padding: 5px;
}
```
提示：內邊距、邊框和外邊距可以應用於一個元素的所有邊，也可以應用於單獨的邊。
提示：外邊距可以是負值，而且在很多情況下都要使用負值的外邊距。

##瀏覽器兼容性
一旦為頁面設置了恰當的 DTD，大多數瀏覽器都會按照上面的圖示來呈現內容。然而 IE 5 和 6 的呈現卻是不正確的。根據 W3C 的規範，元素內容佔據的空間是由 width 屬性設置的，而內容周圍的 padding 和 border 值是另外計算的。不幸的是，IE5.X 和 6 在怪異模式中使用自己的非標準模型。這些瀏覽器的 width 屬性不是內容的寬度，而是內容、內邊距和邊框的寬度的總和。

雖然有方法解決這個問題。但是目前最好的解決方案是回避這個問題。也就是，不要給元素添加具有指定寬度的內邊距，而是嘗試將內邊距或外邊距添加到元素的父元素和子元素。

術語翻譯
* element : 元素。
* padding : 內邊距，也有資料將其翻譯為填充。
* border : 邊框。
* margin : 外邊距，也有資料將其翻譯為空白或空白邊。

在 w3school，我們把 padding 和 margin 統一地稱為內邊距和外邊距。邊框內的空白是內邊距，邊框外的空白是外邊距，很容易記吧：）

___

#CSS 內邊距
**元素的內邊距在邊框和內容區之間。控制該區域最簡單的屬性是 padding 屬性。**
**CSS padding 屬性定義元素邊框與元素內容之間的空白區域。**
##CSS padding 屬性
CSS padding 屬性定義元素的內邊距。padding 屬性接受長度值或百分比值，但不允許使用負值。

例如，如果您希望所有 h1 元素的各邊都有 10 像素的內邊距，只需要這樣：

`h1 {padding: 10px;}`

您還可以按照上、右、下、左的順序分別設置各邊的內邊距，各邊均可以使用不同的單位或百分比值：

`h1 {padding: 10px 0.25em 2ex 20%;}`

##單邊內邊距屬性
也通過使用下面四個單獨的屬性，分別設置上、右、下、左內邊距：

* padding-top
* padding-right
* padding-bottom
* padding-left

您也許已經想到了，下面的規則實現的效果與上面的簡寫規則是完全相同的：

```css
h1 {
  padding-top: 10px;
  padding-right: 0.25em;
  padding-bottom: 2ex;
  padding-left: 20%;
  }
```

##內邊距的百分比數值
前面提到過，可以為元素的內邊距設置百分數值。百分數值是相對於其父元素的 width 計算的，這一點與外邊距一樣。所以，如果父元素的 width 改變，它們也會改變。

下面這條規則把段落的內邊距設置為父元素 width 的 10%：

`p {padding: 10%;}`

例如：如果一個段落的父元素是 div 元素，那麼它的內邊距要根據 div 的 width 計算。

```html
<div style="width: 200px;">
<p>This paragragh is contained within a DIV that has a width of 200 pixels.</p>
</div> 
```

注意：上下內邊距與左右內邊距一致；即上下內邊距的百分數會相對於父元素寬度設置，而不是相對於高度。

##CSS 內邊距屬性
屬性|	描述
:--:|:--:
padding|	簡寫屬性。作用是在一個聲明中設置元素的所內邊距屬性。
padding-bottom|	設置元素的下內邊距。
padding-left|	設置元素的左內邊距。
padding-right|	設置元素的右內邊距。
padding-top|	設置元素的上內邊距。

___

#CSS 邊框

**元素的邊框 (border) 是圍繞元素內容和內邊距的一條或多條線。**
**CSS border 屬性允許你規定元素邊框的樣式、寬度和顏色。**
##CSS 邊框
在 HTML 中，我們使用表格來創建文本週圍的邊框，但是通過使用 CSS 邊框屬性，我們可以創建出效果出色的邊框，並且可以應用於任何元素。

元素外邊距內就是元素的的邊框 (border)。元素的邊框就是圍繞元素內容和內邊據的一條或多條線。

每個邊框有 3 個方面：寬度、樣式，以及顏色。在下面的篇幅，我們會為您詳細講解這三個方面。

##邊框與背景
CSS 規範指出，邊框繪制在「元素的背景之上」。這很重要，因為有些邊框是「間斷的」（例如，點線邊框或虛線框），元素的背景應當出現在邊框的可見部分之間。

CSS2 指出背景只延伸到內邊距，而不是邊框。後來 CSS2.1 進行了更正：元素的背景是內容、內邊距和邊框區的背景。大多數瀏覽器都遵循 CSS2.1 定義，不過一些較老的瀏覽器可能會有不同的表現。

##邊框的樣式
樣式是邊框最重要的一個方面，這不是因為樣式控制著邊框的顯示（當然，樣式確實控制著邊框的顯示），而是因為如果沒有樣式，將根本沒有邊框。

CSS 的 border-style 屬性定義了 10 個不同的非 inherit 樣式，包括 none。

例如，您可以為把一幅圖片的邊框定義為 outset，使之看上去像是「凸起按鈕」：

`a:link img {border-style: outset;}`

###定義多種樣式
您可以為一個邊框定義多個樣式，例如：

`p.aside {border-style: solid dotted dashed double;}`

上面這條規則為類名為 aside 的段落定義了四種邊框樣式：實線上邊框、點線右邊框、虛線下邊框和一個雙線左邊框。
我們又看到了這裡的值採用了 top-right-bottom-left 的順序，討論用多個值設置不同內邊距時也見過這個順序。

###定義單邊樣式
如果您希望為元素框的某一個邊設置邊框樣式，而不是設置所有 4 個邊的邊框樣式，可以使用下面的單邊邊框樣式屬性：

```css
border-top-style
border-right-style
border-bottom-style
border-left-style
```

因此這兩種方法是等價的：

```css
p {border-style: solid solid solid none;}
p {border-style: solid; border-left-style: none;}
```

注意：如果要使用第二種方法，必須把單邊屬性放在簡寫屬性之後。因為如果把單邊屬性放在 border-style 之前，簡寫屬性的值就會覆蓋單邊值 none。

##邊框的寬度
您可以通過 border-width 屬性為邊框指定寬度。

為邊框指定寬度有兩種方法：可以指定長度值，比如 2px 或 0.1em；或者使用 3 個關鍵字之一，它們分別是 thin 、medium（默認值） 和 thick。

注釋：CSS 沒有定義 3 個關鍵字的具體寬度，所以一個用戶代理可能把 thin 、medium 和 thick 分別設置為等於 5px、3px 和 2px，而另一個用戶代理則分別設置為 3px、2px 和 1px。

所以，我們可以這樣設置邊框的寬度：

`p {border-style: solid; border-width: 5px;}`

或者：

`p {border-style: solid; border-width: thick;}`

###定義單邊寬度
您可以按照 top-right-bottom-left 的順序設置元素的各邊邊框：

`p {border-style: solid; border-width: 15px 5px 15px 5px;}`

上面的例子也可以簡寫為（這樣寫法稱為值複製）：

`p {border-style: solid; border-width: 15px 5px;}`

您也可以通過下列屬性分別設置邊框各邊的寬度：

```css
border-top-width
border-right-width
border-bottom-width
border-left-width
```

因此，下面的規則與上面的例子是等價的：

```css
p {
  border-style: solid;
  border-top-width: 15px;
  border-right-width: 5px;
  border-bottom-width: 15px;
  border-left-width: 5px;
  }
```

###沒有邊框
在前面的例子中，您已經看到，如果希望顯示某種邊框，就必須設置邊框樣式，比如 solid 或 outset。

那麼如果把 border-style 設置為 none 會出現什麼情況：

`p {border-style: none; border-width: 50px;}`

儘管邊框的寬度是 50px，但是邊框樣式設置為 none。在這種情況下，不僅邊框的樣式沒有了，其寬度也會變成 0。邊框消失了，為什麼呢？

這是因為如果邊框樣式為 none，即邊框根本不存在，那麼邊框就不可能有寬度，因此邊框寬度自動設置為 0，而不論您原先定義的是什麼。

記住這一點非常重要。事實上，忘記聲明邊框樣式是一個常犯的錯誤。根據以下規則，所有 h1 元素都不會有任何邊框，更不用說 20 像素寬了：

`h1 {border-width: 20px;}`

由於 border-style 的默認值是 none，如果沒有聲明樣式，就相當於 border-style: none。**因此，如果您希望邊框出現，就必須聲明一個邊框樣式。**

##邊框的顏色
設置邊框顏色非常簡單。CSS 使用一個簡單的 border-color 屬性，它一次可以接受最多 4 個顏色值。
可以使用任何類型的顏色值，例如可以是命名顏色，也可以是十六進制和 RGB 值：

```css
p {
  border-style: solid;
  border-color: blue rgb(25%,35%,45%) #909090 red;
  }
```

如果顏色值小於 4 個，值複製就會起作用。例如下面的規則聲明瞭段落的上下邊框是藍色，左右邊框是紅色：

```css
p {
  border-style: solid;
  border-color: blue red;
  }
```

注釋：默認的邊框顏色是元素本身的前景色。如果沒有為邊框聲明顏色，它將與元素的文本顏色相同。另一方面，如果元素沒有任何文本，假設它是一個表格，其中只包含圖像，那麼該表的邊框顏色就是其父元素的文本顏色（因為 color 可以繼承）。這個父元素很可能是 body、div 或另一個 table。

###定義單邊顏色
還有一些單邊邊框顏色屬性。它們的原理與單邊樣式和寬度屬性相同：

```css
border-top-color
border-right-color
border-bottom-color
border-left-color
```

要為 h1 元素指定實線黑色邊框，而右邊框為實線紅色，可以這樣指定：

```css
h1 {
  border-style: solid;
  border-color: black;
  border-right-color: red;
  }
```

###透明邊框
我們剛才講過，如果邊框沒有樣式，就沒有寬度。不過有些情況下您可能希望創建一個不可見的邊框。
CSS2 引入了邊框顏色值 transparent。這個值用於創建有寬度的不可見邊框。請看下面
的例子：

```html
<a href="#">AAA</a>
<a href="#">BBB</a>
<a href="#">CCC</a>
```

我們為上面的鏈接定義了如下樣式：

```css
a:link, a:visited {
  border-style: solid;
  border-width: 5px;
  border-color: transparent;
  }
a:hover {border-color: gray;}
```

從某種意義上說，利用 transparent，使用邊框就像是額外的內邊距一樣；此外還有一個好處，就是能在你需要的時候使其可見。這種透明邊框相當於內邊距，因為元素的背景會延伸到邊框區域（如果有可見背景的話）。
重要事項：在 IE7 之前，IE/WIN 沒有提供對 transparent 的支持。在以前的版本，IE 會根據元素的 color 值來設置邊框顏色。


##CSS 邊框屬性
屬性|	描述
:--:|:--:
border|	簡寫屬性，用於把針對四個邊的屬性設置在一個聲明。
border-style|	用於設置元素所有邊框的樣式，或者單獨地為各邊設置邊框樣式。
border-width|	簡寫屬性，用於為元素的所有邊框設置寬度，或者單獨地為各邊邊框設置寬度。
border-color|	簡寫屬性，設置元素的所有邊框中可見部分的顏色，或為 4 個邊分別設置顏色。
border-bottom|	簡寫屬性，用於把下邊框的所有屬性設置到一個聲明中。
border-bottom-color|	設置元素的下邊框的顏色。
border-bottom-style|	設置元素的下邊框的樣式。
border-bottom-width|	設置元素的下邊框的寬度。
border-left|	簡寫屬性，用於把左邊框的所有屬性設置到一個聲明中。
border-left-color|	設置元素的左邊框的顏色。
border-left-style|	設置元素的左邊框的樣式。
border-left-width|	設置元素的左邊框的寬度。
border-right|	簡寫屬性，用於把右邊框的所有屬性設置到一個聲明中。
border-right-color|	設置元素的右邊框的顏色。
border-right-style|	設置元素的右邊框的樣式。
border-right-width|	設置元素的右邊框的寬度。
border-top|	簡寫屬性，用於把上邊框的所有屬性設置到一個聲明中。
border-top-color|	設置元素的上邊框的顏色。
border-top-style|	設置元素的上邊框的樣式。
border-top-width|	設置元素的上邊框的寬度。

___

#CSS 外邊距
**圍繞在元素邊框的空白區域是外邊距。設置外邊距會在元素外創建額外的「空白」。
設置外邊距的最簡單的方法就是使用 margin 屬性，這個屬性接受任何長度單位、百分數值甚至負值。**
##CSS margin 屬性
設置外邊距的最簡單的方法就是使用 margin 屬性。
margin 屬性接受任何長度單位，可以是像素、英吋、毫米或 em。
margin 可以設置為 auto。更常見的做法是為外邊距設置長度值。下面的聲明在 h1 元素的各個邊上設置了 1/4 英吋寬的空白：

`h1 {margin : 0.25in;}`

下面的例子為 h1 元素的四個邊分別定義了不同的外邊距，所使用的長度單位是像素 (px)：

`h1 {margin : 10px 0px 15px 5px;}`

與內邊距的設置相同，這些值的順序是從上外邊距 (top) 開始圍著元素順時針旋轉的：

`margin: top right bottom left`

另外，還可以為 margin 設置一個百分比數值：

`p {margin : 10%;}`

百分數是相對於父元素的 width 計算的。上面這個例子為 p 元素設置的外邊距是其父元素的 width 的 10%。

margin 的默認值是 0，所以如果沒有為 margin 聲明一個值，就不會出現外邊距。但是，在實際中，瀏覽器對許多元素已經提供了預定的樣式，外邊距也不例外。例如，在支持 CSS 的瀏覽器中，外邊距會在每個段落元素的上面和下面生成「空行」。因此，如果沒有為 p 元素聲明外邊距，瀏覽器可能會自己應用一個外邊距。當然，只要你特別作了聲明，就會覆蓋默認樣式。

##值複製
還記得嗎？我們曾經在前兩節中提到過值複製。下面我們為您講解如何使用值複製。
有時，我們會輸入一些重復的值：

`p {margin: 0.5em 1em 0.5em 1em;}`

通過值複製，您可以不必重復地鍵入這對數字。上面的規則與下面的規則是等價的：

`p {margin: 0.5em 1em;}`

這兩個值可以取代前面 4 個值。這是如何做到的呢？CSS 定義了一些規則，允許為外邊距指定少於 4 個值。規則如下：
* 如果缺少左外邊距的值，則使用右外邊距的值。
* 如果缺少下外邊距的值，則使用上外邊距的值。
* 如果缺少右外邊距的值，則使用上外邊距的值。

下圖提供了更直觀的方法來瞭解這一點：

![](/assets/ct_css_margin_value.gif)

換句話說，如果為外邊距指定了 3 個值，則第 4 個值（即左外邊距）會從第 2 個值（右外邊距）複製得到。如果給定了兩個值，第 4 個值會從第 2 個值複製得到，第 3 個值（下外邊距）會從第 1 個值（上外邊距）複製得到。最後一個情況，如果只給定一個值，那麼其他 3 個外邊距都由這個值（上外邊距）複製得到。

利用這個簡單的機制，您只需指定必要的值，而不必全部都應用 4 個值，例如：

```css
h1 {margin: 0.25em 1em 0.5em;}	/* 等價於 0.25em 1em 0.5em 1em */
h2 {margin: 0.5em 1em;}		/* 等價於 0.5em 1em 0.5em 1em */
p {margin: 1px;}			/* 等價於 1px 1px 1px 1px */
```

這種辦法有一個小缺點，您最後肯定會遇到這個問題。假設希望把 p 元素的上外邊距和左外邊距設置為 20 像素，下外邊距和右外邊距設置為 30 像素。在這種情況下，必須寫作：

`p {margin: 20px 30px 30px 20px;}`

這樣才能得到您想要的結果。遺憾的是，在這種情況下，所需值的個數沒有辦法更少了。
再來看另外一個例子。如果希望除了左外邊距以外所有其他外邊距都是 auto（左外邊距是 20px）：

`p {margin: auto auto auto 20px;}`

同樣的，這樣才能得到你想要的效果。問題在於，鍵入這些 auto 有些麻煩。如果您只是希望控制元素單邊上的外邊距，請使用單邊外邊距屬性。

##單邊外邊距屬性
您可以使用單邊外邊距屬性為元素單邊上的外邊距設置值。假設您希望把 p 元素的左外邊距設置為 20px。不必使用 margin（需要鍵入很多 auto），而是可以採用以下方法：

`p {margin-left: 20px;}`

您可以使用下列任何一個屬性來只設置相應上的外邊距，而不會直接影響所有其他外邊距：
* margin-top
* margin-right
* margin-bottom
* margin-left

一個規則中可以使用多個這種單邊屬性，例如：

```css
h2 {
  margin-top: 20px;
  margin-right: 30px;
  margin-bottom: 30px;
  margin-left: 20px;
  }
```

當然，對於這種情況，使用 margin 可能更容易一些：

`p {margin: 20px 30px 30px 20px;}`

不論使用單邊屬性還是使用 margin，得到的結果都一樣。一般來說，如果希望為多個邊設置外邊距，使用 margin 會更容易一些。不過，從文檔顯示的角度看，實際上使用哪種方法都不重要，所以應該選擇對自己來說更容易的一種方法。
##提示和注釋
提示：Netscape 和 IE 對 body 標籤定義的默認邊距（margin）值是 8px。而 Opera 不是這樣。相反地，Opera 將內部填充（padding）的默認值定義為 8px，因此如果希望對整個網站的邊緣部分進行調整，並將之正確顯示於 Opera 中，那麼必須對 body 的 padding 進行自定義。


##CSS 外邊距屬性

屬性|	描述
:--:|:--:
margin|	簡寫屬性。在一個聲明中設置所有外邊距屬性。
margin-bottom|	設置元素的下外邊距。
margin-left|	設置元素的左外邊距。
margin-right|	設置元素的右外邊距。
margin-top	|設置元素的上外邊距。

___

#CSS 外邊距合併
**外邊距合併指的是，當兩個垂直外邊距相遇時，它們將形成一個外邊距。
合併後的外邊距的高度等於兩個發生合併的外邊距的高度中的較大者。**

##外邊距合併
外邊距合併（疊加）是一個相當簡單的概念。但是，在實踐中對網頁進行佈局時，它會造成許多混淆。

簡單地說，外邊距合併指的是，當兩個垂直外邊距相遇時，它們將形成一個外邊距。合併後的外邊距的高度等於兩個發生合併的外邊距的高度中的較大者。

當一個元素出現在另一個元素上面時，第一個元素的下外邊距與第二個元素的上外邊距會發生合併。請看下圖：

![](/assets/ct_css_margin_collapsing_example_1.gif)

當一個元素包含在另一個元素中時（假設沒有內邊距或邊框把外邊距分隔開），它們的上和/或下外邊距也會發生合併。請看下圖：

![](/assets/ct_css_margin_collapsing_example_2.gif)

儘管看上去有些奇怪，但是外邊距甚至可以與自身發生合併。
假設有一個空元素，它有外邊距，但是沒有邊框或填充。在這種情況下，上外邊距與下外邊距就碰到了一起，它們會發生合併：

![](/assets/ct_css_margin_collapsing_example_3.gif)

如果這個外邊距遇到另一個元素的外邊距，它還會發生合併：

![](/assets/ct_css_margin_collapsing_example_4.gif)

這就是一系列的段落元素佔用空間非常小的原因，因為它們的所有外邊距都合併到一起，形成了一個小的外邊距。

外邊距合併初看上去可能有點奇怪，但是實際上，它是有意義的。以由幾個段落組成的典型文本頁面為例。第一個段落上面的空間等於段落的上外邊距。如果沒有外邊距合併，後續所有段落之間的外邊距都將是相鄰上外邊距和下外邊距的和。這意味著段落之間的空間是頁面頂部的兩倍。如果發生外邊距合併，段落之間的上外邊距和下外邊距就合併在一起，這樣各處的距離就一致了。

![](/assets/ct_css_margin_collapsing.gif)

注釋：只有普通文檔流中塊框的垂直外邊距才會發生外邊距合併。行內框、浮動框或絕對定位之間的外邊距不會合併。